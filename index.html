<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà FUNDAMENT STRONY ‚Äì MODU≈Å BAZOWY (mod-fundament) ‚ñà‚ñà‚ñà‚ñà‚ñà
  OPIS:
  - Sta≈Ça szeroko≈õƒá strony: 1340 px (fixed width).
  - Du≈ºe ekrany ‚Üí marginesy po bokach (centrowanie).
  - Ma≈Çe ekrany ‚Üí proporcjonalne pomniejszenie ca≈Ço≈õci (transform: scale).
  - Minimalne style globalne: tylko t≈Ço i reset margines√≥w body/html.
  - Paleta i gradient: z≈Çoto‚Äìbe≈º metaliczny (bez czerni), zaakceptowany wariant.
  - Izolacja nazw: prefiks .mod-fundament-*; brak globalnych id; brak !important.
  - Samowystarczalny modu≈Ç: HTML + CSS + JS w jednym miejscu.
  - Cleanup: root.modFundamentDestroy() usuwa listenery/obserwery.
  JAK U≈ªYWAƒÜ:
  - Wklej ca≈Çy blok jako bazƒô strony. WewnƒÖtrz .mod-fundament-canvas dodawaj kolejne modu≈Çy.
  - Je≈ºeli usuwasz modu≈Ç z DOM, opcjonalnie wywo≈Çaj root.modFundamentDestroy() dla porzƒÖdku.
-->
<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->

<!DOCTYPE html>
<html lang="pl">
<head>
  <!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë META / PODSTAWY ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
  <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
  <title>STRONA RUTYNA START ‚Äî Fundament</title>

  <!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë STYLE GLOBALNE (TYLKO FUNDAMENT) ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë
       UWAGA: Minimalne, dozwolone globalnie dla bazy (t≈Ço i reset margines√≥w). -->
  <style>
    /* ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë T≈ÅO STRONY ‚Äì GRADIENT Z≈ÅOTO‚ÄìBE≈ª (zaakceptowany) ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë */
    html, body {height:100%; margin:0; padding:0;}
    body {
      /* Lekko metaliczny efekt przy u≈ºyciu wielowarstwowego gradientu (bez czerni). */
      background:
        radial-gradient(1200px 600px at 20% 0%, rgba(255,255,255,0.35), rgba(255,255,255,0) 60%),
        linear-gradient(160deg, #f9e4b7 0%, #d4af37 28%, #b8860b 64%, #8b5e2b 100%);
      background-attachment: fixed;
      background-repeat: no-repeat;
      /* Brak narzucania font√≥w/kolor√≥w tekstu‚Äîtylko t≈Ço. */
    }
  </style>

  <!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë STYLE MODU≈ÅU: mod-fundament ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
  <style>
    /* STRUKTURA ZMIENNYCH (lokalne dla modu≈Çu) */
    .mod-fundament{
      --mod-fundament-base-width: 1340; /* px jako liczba do JS */
      --mod-gold-light: #f9e4b7;
      --mod-gold: #d4af37;
      --mod-gold-deep: #b8860b;
      --mod-brown-warm: #8b5e2b;
    }

    /* KONTENER MODU≈ÅU ‚Äì pe≈Çna wysoko≈õƒá, bez wyciek√≥w globalnych */
    .mod-fundament{min-height:100dvh; position:relative; display:block;}

    /* VIEWPORT: odpowiada za przewijanie dokumentu i centrowanie */
    .mod-fundament-viewport{
      width:100%; min-height:100dvh; display:flex; justify-content:center; align-items:flex-start; overflow:auto;
      /* brak dodatkowych styl√≥w wizualnych ‚Äì fundament ma byƒá neutralny */
    }

    /* SCALER: element skalowany transformacjƒÖ; wysoko≈õƒá nadawana skryptem */
    .mod-fundament-scaler{transform-origin: top center; width: max-content;}

    /* CANVAS: w≈Ça≈õciwa ‚Äûstrona‚Äù o sta≈Çej szeroko≈õci 1340 px */
    .mod-fundament-canvas{width:1340px; margin:0 auto;}

    /* BLOK DEMO (mo≈ºesz usunƒÖƒá) ‚Äì pokazuje marginesy na du≈ºych ekranach */
    .mod-fundament-demo{
      margin:24px 0; padding:20px; border-radius:16px;
      background: linear-gradient(180deg, rgba(255,255,255,0.35), rgba(255,255,255,0.15));
      box-shadow: 0 6px 18px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.35);
      backdrop-filter: saturate(120%) blur(2px);
      border: 1px solid rgba(255,255,255,0.35);
    }
    .mod-fundament-demo h1{margin:0 0 8px 0; font-weight:600;}
    .mod-fundament-demo p{margin:0; line-height:1.5;}
  </style>
</head>
<body>

  <!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë STRUKTURA MODU≈ÅU: mod-fundament ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
  <div class="mod-fundament" data-module="mod-fundament">
    <!-- VIEWPORT: przewijanie dokumentu i centrowanie zawarto≈õci -->
    <div class="mod-fundament-viewport">
      <!-- SCALER: skaluje canvas na ma≈Çych ekranach -->
      <div class="mod-fundament-scaler">
        <!-- CANVAS: sta≈Ça szeroko≈õƒá 1340 px; TU WKLEJAJ KOLEJNE MODU≈ÅY -->
        <main class="mod-fundament-canvas" data-base-width="1340">
          <!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë SLOT NA TWOJƒÑ TRE≈öƒÜ / MODU≈ÅY ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->



































<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñëHUD - PRZYPIETY PASEK Z PRZYCISKAMI‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà MODU≈Å: mod-hud-pinned (v3.3) ‚Äî 1340px, grid 3+3, kalendarz 2-rows, notatki z ikonami üîéüìãüóë ‚ñà‚ñà‚ñà‚ñà‚ñà
     NOWE vs v3.2:
     - Ka≈ºda notatka ma mini-ikonki akcji: üîé (podglƒÖd/edycja w popupie), üìã (kopiuj), üóë (czy≈õƒá z potwierdzeniem).
     - Popup z edycjƒÖ: textarea (edytuj), auto-linkowanie URL-i w trybie ‚ÄûpodglƒÖd‚Äù, kopiuj/usu≈Ñ/zamknij.
     - Kopiowanie: navigator.clipboard + fallback.
     - Izolacja zdarze≈Ñ, sprzƒÖtanie, brak globali.
-->
<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà HTML ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<div class="mod-hud-pinned" data-module="mod-hud-pinned" aria-live="polite">
  <div class="mod-hud-shell" role="region" aria-label="Quick panel" aria-expanded="true">
    <div class="mod-hud-wrap">
      <!-- ‚ñà‚ñà‚ñà‚ñà‚ñà HEADER (bez tytu≈Çu) ‚ñà‚ñà‚ñà‚ñà‚ñà -->
      <div class="mod-hud-header">
        <div class="mod-hud-spacer"></div>
        <div class="mod-hud-actions">
          <!-- ‚èª WYLOGUJ -->
          <button class="mod-hud-btn mod-hud-logout" type="button" title="Sign out" aria-label="Sign out">
            <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M12 2v8M7.05 7.05a7 7 0 1 0 9.9 0" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
          <!-- ZWI≈É/ROZWI≈É -->
          <button class="mod-hud-toggle" type="button" aria-label="Collapse panel" title="Collapse/Expand">
            <svg class="mod-hud-icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6"/></svg>
          </button>
        </div>
      </div>

      <!-- ‚ñà‚ñà‚ñà‚ñà‚ñà BODY ‚ñà‚ñà‚ñà‚ñà‚ñà -->
      <div class="mod-hud-body" id="mod-hud-body" role="group" aria-label="Quick panel content">
        <div class="mod-hud-content">

          <!-- ‚ñà‚ñà‚ñà‚ñà‚ñà PANEL: RESETY + KALENDARZ + NOTATKI ‚ñà‚ñà‚ñà‚ñà‚ñà -->
          <section class="mod-reset-suite" data-module="mod-reset-suite" aria-label="Reset panel and calendar">
            <div class="mod-reset-grid" role="group" aria-label="Resets, notes and calendar">
              
              <!-- [1] DAILY / ONCE / RESET ALL (g√≥rny rzƒÖd, kol.1) -->
              <article class="mod-reset-card mod-reset-col1" aria-label="Daily / One-time / Reset all">
                <div class="mod-reset-stack">
                  <button type="button" class="btn btn-daily"  data-action="reset-type" data-type="daily">RESET DAILY</button>
                  <button type="button" class="btn btn-once"   data-action="reset-type" data-type="once">RESET ONE TIME</button>
                  <button type="button" class="btn btn-all"    data-action="reset-all">RESET ALL</button>
                </div>
              </article>

              <!-- [2] 24h (g√≥rny rzƒÖd, kol.2) -->
              <article class="mod-reset-card mod-reset-col2" aria-label="24 hours">
                <div class="mod-reset-title">24 h</div>
                <div class="mod-reset-controls">
                  <button type="button" class="btn btn-h24" data-action="reset-type" data-type="h24">RESET 24H</button>
                  <button type="button" class="btn btn-h24" data-action="save-24h">SAVE TIME</button>
                </div>
                <div class="mod-reset-info rs-info-24h" aria-live="polite">No saved time.</div>
              </article>

              <!-- [3] WEEKLY (g√≥rny rzƒÖd, kol.3) -->
              <article class="mod-reset-card mod-reset-col3" aria-label="Weekly">
                <div class="mod-reset-title">Weekly</div>
                <div class="mod-reset-controls">
                  <button type="button" class="btn btn-weekly" data-action="reset-type" data-type="weekly">RESET WEEKLY</button>
                  <button type="button" class="btn btn-weekly" data-action="save-weekly">SAVE DATE</button>
                </div>
                <div class="mod-reset-info rs-info-weekly" aria-live="polite">No saved date.</div>
              </article>

              <!-- [4] CALENDAR (kol.4, SPAN 2 wiersze) -->
              <article class="mod-reset-card mod-reset-col4" aria-label="Calendar">
                <div class="mini-cal" data-cal="mounted"></div>
              </article>

              <!-- [5] NOTES: DAILY/ONCE/ALL (dolny rzƒÖd, kol.1) -->
              <article class="mod-note-card mod-note-col1" aria-label="Notes for Daily/Once/All">
                <div class="mod-note-head">
                  <span>Notes ‚Äî Daily/Once/All</span>
                  <div class="mod-note-actions" role="group" aria-label="Note actions">
                    <button class="note-btn btn-preview" type="button" title="Preview/Edit (popup)" aria-label="Preview/Edit">üîé</button>
                    <button class="note-btn btn-copy"    type="button" title="Copy to clipboard" aria-label="Copy">üìã</button>
                    <button class="note-btn btn-clear"   type="button" title="Clear note" aria-label="Clear">üóë</button>
                  </div>
                </div>
                <textarea class="mod-note-text" data-note-key="hud:note:daily" placeholder="Type your note‚Ä¶"></textarea>
              </article>

              <!-- [6] NOTES: 24h (dolny rzƒÖd, kol.2) -->
              <article class="mod-note-card mod-note-col2" aria-label="Notes for 24h">
                <div class="mod-note-head">
                  <span>Notes ‚Äî 24h</span>
                  <div class="mod-note-actions" role="group" aria-label="Note actions">
                    <button class="note-btn btn-preview" type="button" title="Preview/Edit (popup)" aria-label="Preview/Edit">üîé</button>
                    <button class="note-btn btn-copy"    type="button" title="Copy to clipboard" aria-label="Copy">üìã</button>
                    <button class="note-btn btn-clear"   type="button" title="Clear note" aria-label="Clear">üóë</button>
                  </div>
                </div>
                <textarea class="mod-note-text" data-note-key="hud:note:h24" placeholder="Type your note‚Ä¶"></textarea>
              </article>

              <!-- [7] NOTES: Weekly (dolny rzƒÖd, kol.3) -->
              <article class="mod-note-card mod-note-col3" aria-label="Notes for Weekly">
                <div class="mod-note-head">
                  <span>Notes ‚Äî Weekly</span>
                  <div class="mod-note-actions" role="group" aria-label="Note actions">
                    <button class="note-btn btn-preview" type="button" title="Preview/Edit (popup)" aria-label="Preview/Edit">üîé</button>
                    <button class="note-btn btn-copy"    type="button" title="Copy to clipboard" aria-label="Copy">üìã</button>
                    <button class="note-btn btn-clear"   type="button" title="Clear note" aria-label="Clear">üóë</button>
                  </div>
                </div>
                <textarea class="mod-note-text" data-note-key="hud:note:weekly" placeholder="Type your note‚Ä¶"></textarea>
              </article>

            </div>
          </section>
          <!-- ‚ñà‚ñà‚ñà‚ñà /PANEL ‚ñà‚ñà‚ñà‚ñà -->

          <!-- ‚ñà‚ñà‚ñà‚ñà‚ñà POPUP PREVIEW/EDIT ‚Äî w obrƒôbie modu≈Çu ‚ñà‚ñà‚ñà‚ñà‚ñà -->
          <div class="mod-note-popup" data-popup="hidden" aria-hidden="true" role="dialog" aria-label="Note preview and edit">
            <div class="mnp-backdrop" data-close="1"></div>
            <div class="mnp-window" role="document">
              <div class="mnp-head">
                <strong>Note</strong>
                <div class="mnp-actions">
                  <button class="mnp-btn mnp-copy" type="button" title="Copy" aria-label="Copy">üìã</button>
                  <button class="mnp-btn mnp-clear" type="button" title="Clear" aria-label="Clear">üóë</button>
                  <button class="mnp-btn mnp-close" type="button" title="Close" aria-label="Close">‚úñ</button>
                </div>
              </div>
              <div class="mnp-body">
                <!-- Tryb edycji -->
                <textarea class="mnp-editor" placeholder="Edit your note‚Ä¶"></textarea>
                <!-- Tryb podglƒÖdu (auto-linki) -->
                <div class="mnp-preview" hidden></div>
              </div>
              <div class="mnp-foot">
                <div class="mnp-left">
                  <label class="mnp-toggle"><input type="checkbox" class="mnp-mode"> <span>Preview mode</span></label>
                </div>
                <div class="mnp-right">
                  <button class="mnp-btn mnp-save" type="button" title="Save changes" aria-label="Save">Save</button>
                </div>
              </div>
            </div>
          </div>
          <!-- ‚ñà‚ñà‚ñà‚ñà /POPUP ‚ñà‚ñà‚ñà‚ñà -->

        </div>
      </div>
      <!-- /BODY -->
    </div>
  </div>
</div>

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà CSS ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<style>
  /* ‚ñë‚ñë‚ñë‚ñë HUD: sta≈Çe 1340 px, brak driftu ‚ñë‚ñë‚ñë‚ñë */
  .mod-hud-pinned{ --mod-hud-z:200; --mod-hud-top:16px; --mod-hud-radius:16px; --mod-hud-pad:16px;
    --mod-hud-shadow:0 6px 18px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.35);
    --mod-hud-border:1px solid rgba(255,255,255,0.35);
    --mod-hud-bg:linear-gradient(180deg, rgba(255,255,255,0.35), rgba(255,255,255,0.15));
    --mod-hud-blur:saturate(120%) blur(2px);
    --mod-hud-body-max:520px; --mod-hud-collapsed-h:40px; --mod-hud-lift:-36px;
    position:fixed; inset:0 auto auto 0; z-index:var(--mod-hud-z); pointer-events:none; }
  .mod-hud-shell{ position:fixed; top:var(--mod-hud-top); left:50%; width:1340px; margin-left:-670px; pointer-events:none; }
  .mod-hud-wrap{ position:relative; width:1340px; box-sizing:border-box; border-radius:var(--mod-hud-radius);
    box-shadow:var(--mod-hud-shadow); border:var(--mod-hud-border); backdrop-filter:var(--mod-hud-blur);
    background:var(--mod-hud-bg); padding:var(--mod-hud-pad); pointer-events:auto; }
  .mod-hud-header{ display:flex; align-items:center; justify-content:space-between; gap:8px; }
  .mod-hud-actions{ display:flex; align-items:center; gap:8px; }
  .mod-hud-btn,.mod-hud-toggle{ display:inline-flex; align-items:center; justify-content:center; border:1px solid rgba(255,255,255,0.45);
    border-radius:10px; padding:6px 10px; cursor:pointer; background:rgba(255,255,255,0.25); transition:transform .15s, background .15s, border-color .15s, opacity .2s; }
  .mod-hud-btn:hover,.mod-hud-toggle:hover{ transform:translateY(-1px); background:rgba(255,255,255,0.35); }
  .mod-hud-icon{ display:block; transform-origin:center; transition:transform .2s; }
  .mod-hud-body{ position:relative; overflow:hidden; transition:max-height .28s, opacity .28s, margin-top .28s; max-height:var(--mod-hud-body-max); opacity:1; margin-top:12px; }
  .mod-hud-pinned.is-collapsed .mod-hud-body{ max-height:0; opacity:0; margin-top:0; }
  .mod-hud-body::before{ content:""; display:block; height: calc(0px - var(--mod-hud-lift)); }

  /* ‚ñë‚ñë‚ñë‚ñë RESETY + KALENDARZ + NOTATKI ‚ñë‚ñë‚ñë‚ñë */
  .mod-reset-suite{ --daily-strong:#1976d2; --h24-strong:#7e57c2; --weekly-strong:#f9a825; --once-strong:#424242;
    --glass-bg:linear-gradient(180deg, rgba(255,255,255,0.28), rgba(255,255,255,0.12));
    --glass-brd:1px solid rgba(255,255,255,0.35); --glass-sh:0 6px 18px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.30);
    --radius:14px; --pad:10px; --gap:12px; display:block; transform:translateY(var(--mod-hud-lift)); }
  .mod-reset-grid{ display:grid; grid-template-columns:1fr 1fr 1fr 1fr; gap:var(--gap); width:100%; align-items:start; }
  .mod-reset-card,.mod-note-card{ border-radius:var(--radius); border:var(--glass-brd); background:var(--glass-bg);
    backdrop-filter:saturate(120%) blur(2px); box-shadow:var(--glass-sh); padding:var(--pad); }
  .mod-reset-title{ font-weight:700; letter-spacing:.2px; text-align:center; margin-bottom:8px; }
  .mod-reset-stack{ display:flex; flex-direction:column; gap:8px; }
  .mod-reset-controls{ display:grid; grid-template-columns:1fr 1fr; gap:8px; margin-bottom:8px; }
  .mod-reset-controls .btn{ width:100%; }
  .mod-reset-info{ font-size:.92rem; line-height:1.4; text-align:center; border-radius:10px; padding:6px 8px; border:1px solid rgba(255,255,255,.4);
    background:linear-gradient(180deg, rgba(255,255,255,.25), rgba(255,255,255,.1)); }
  .mod-reset-info.overdue{ outline:2px solid #d32f2f; }
  .mod-reset-suite .btn{ appearance:none; border:none; border-radius:10px; padding:8px 12px; font-weight:700; cursor:pointer; color:#fff;
    box-shadow:0 2px 4px rgba(0,0,0,.08); transition:transform .05s, opacity .15s, filter .15s; }
  .mod-reset-suite .btn:active{ transform:translateY(1px); }
  .mod-reset-suite .btn:hover{ filter:brightness(1.05); }
  .mod-reset-suite .btn-daily{ background:var(--daily-strong); }
  .mod-reset-suite .btn-h24{ background:var(--h24-strong); }
  .mod-reset-suite .btn-weekly{ background:var(--weekly-strong); color:#111; }
  .mod-reset-suite .btn-once{ background:var(--once-strong); }
  .mod-reset-suite .btn-all{ background:linear-gradient(180deg,#8b1e1e,#c62828); }
  .mod-reset-col4{ grid-column:4; grid-row:1 / span 2; }

  /* Mini-kalendarz ‚Äî kompakt */
  .mod-reset-suite .mini-cal{ font-family:inherit; font-size:11px; }
  .mod-reset-suite .mini-cal .mc-head{ display:flex; align-items:center; justify-content:space-between; gap:6px; margin-bottom:6px; }
  .mod-reset-suite .mini-cal .mc-title{ font-weight:700; text-align:center; flex:1; }
  .mod-reset-suite .mini-cal .mc-nav{ display:flex; gap:6px; }
  .mod-reset-suite .mini-cal .mc-btn{ border:1px solid rgba(255,255,255,.5); background:rgba(255,255,255,.28); padding:2px 6px; border-radius:7px; cursor:pointer; box-shadow:inset 0 1px 0 rgba(255,255,255,.35); }
  .mod-reset-suite .mini-cal .mc-grid{ display:grid; grid-template-columns:repeat(7,1fr); gap:4px; }
  .mod-reset-suite .mini-cal .mc-cell{ padding:4px 0; text-align:center; border:1px solid rgba(255,255,255,.45); border-radius:7px; background:linear-gradient(180deg, rgba(255,255,255,.32), rgba(255,255,255,.14)); }
  .mod-reset-suite .mini-cal .mc-dow{ background:linear-gradient(180deg, rgba(255,255,255,.55), rgba(255,255,255,.22)); font-weight:700; }
  .mod-reset-suite .mini-cal .mc-empty{ background:transparent; border:none; }
  .mod-reset-suite .mini-cal .mc-today{ background:#fff; outline:2px solid #d4af37; font-weight:800; }

  /* NOTATKI ‚Äî kafel + mini-ikonki */
  .mod-note-head{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:6px; }
  .mod-note-actions{ display:flex; gap:6px; }
  .note-btn{ border:1px solid rgba(255,255,255,.45); background:rgba(255,255,255,.25); border-radius:8px; padding:2px 6px; cursor:pointer;
    box-shadow:inset 0 1px 0 rgba(255,255,255,.35); }
  .note-btn:hover{ background:rgba(255,255,255,.35); }
  .mod-note-text{ width:100%; min-height:64px; resize:vertical; border:1px solid rgba(255,255,255,.45); border-radius:10px; padding:8px;
    background:linear-gradient(180deg, rgba(255,255,255,.32), rgba(255,255,255,.14)); color:inherit; font:inherit; outline:none; }
  .mod-note-text:focus{ box-shadow:0 0 0 2px rgba(25,118,210,.35) inset; }

  /* POPUP (w obrƒôbie HUD) */
  .mod-note-popup[aria-hidden="true"]{ display:none; }
  .mod-note-popup{ position:absolute; inset:0; z-index:10; }
  .mnp-backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.25); }
  .mnp-window{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:680px; max-width:calc(100% - 48px);
    border-radius:14px; border:1px solid rgba(255,255,255,.45); background:linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.82));
    box-shadow:0 12px 28px rgba(0,0,0,.18); color:#111; }
  .mnp-head,.mnp-foot{ display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid rgba(0,0,0,.08); }
  .mnp-foot{ border-top:1px solid rgba(0,0,0,.08); border-bottom:none; }
  .mnp-actions{ display:flex; gap:6px; }
  .mnp-btn{ border:1px solid rgba(0,0,0,.18); background:#fff; border-radius:8px; padding:4px 8px; cursor:pointer; }
  .mnp-btn:hover{ background:#f5f5f5; }
  .mnp-body{ padding:10px 12px; }
  .mnp-editor{ width:100%; min-height:180px; resize:vertical; border:1px solid rgba(0,0,0,.18); border-radius:8px; padding:8px; font:inherit; }
  .mnp-preview{ width:100%; max-height:320px; overflow:auto; border:1px dashed rgba(0,0,0,.18); border-radius:8px; padding:10px; white-space:pre-wrap; word-wrap:break-word; }
  .mnp-preview a{ color:#1976d2; text-decoration:underline; }
  .mnp-toggle{ display:flex; align-items:center; gap:6px; user-select:none; }


</style>
<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->

<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà PATCH CSS: skalowanie HUD do 1340 px ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<style>
  /* STRUKTURA: HUD ma sta≈Çe 1340 px, ale skaluje siƒô proporcjonalnie do okna */
  .mod-hud-pinned{ --app-scale: 1; } /* warto≈õƒá uzupe≈Çni JS */

  .mod-hud-pinned .mod-hud-shell{
    /* sta≈Çy uk≈Çad 1340 px z centrowaniem */
    left: 50%; width: 1340px; margin-left: calc(-670px * var(--app-scale));
    /* skalowanie ca≈Çego HUD: teksty, ikony, odstƒôpy ‚Äì 1:1 */
    transform: scale(var(--app-scale));
    transform-origin: top center;
  }
</style>
<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->

<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà PATCH: stabilne centrowanie HUD przy skali ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<style>
  /* STRUKTURA: skala ustawiana w JS jako --app-scale (0‚Äì1) */
  .mod-hud-pinned{ --app-scale: 1; }

  /* ZAMIANA sposobu centrowania:
     by≈Ço: left:50% + margin-left: (-670px * scale)
     jest: left:50% + transform: translateX(-50%) scale(scale)
     ‚Üí ju≈º nie ‚Äûdryfuje‚Äù w prawo na wƒÖskim oknie. */
  .mod-hud-pinned .mod-hud-shell{
    left: 50%;
    width: 1340px;
    margin-left: 0;                      /* nadpisuje starƒÖ warto≈õƒá */
    transform: translateX(-50%) scale(var(--app-scale));
    transform-origin: top center;
    will-change: transform;              /* p≈Çynniejsze przeliczenia */
  }
</style>
<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->



</style>

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà JS ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<script>
/* ‚ñë‚ñë‚ñë‚ñë KAPSU≈ÅA HUD ‚Äî auth, toggle, offset, bez driftu ‚ñë‚ñë‚ñë‚ñë */
(function(){
  const root = document.querySelector('.mod-hud-pinned'); if(!root) return;
  const wrap   = root.querySelector('.mod-hud-wrap');
  const body   = root.querySelector('.mod-hud-body');
  const toggle = root.querySelector('.mod-hud-toggle');
  const region = root.querySelector('.mod-hud-shell[role="region"]');
  const logoutBtn = root.querySelector('.mod-hud-logout');
  const canvas = document.querySelector('.mod-fundament-canvas');
  let authRoot = document.querySelector('.mod-auth-login');

  const AUTH_LS_KEY='app:auth:session', LS_KEY='mod-hud-pinned:state';
  let authMO=null;

  const getState=()=>localStorage.getItem(LS_KEY)||'expanded';
  const setState=s=>localStorage.setItem(LS_KEY,s);

  function applyCollapsedUI(c){ root.classList.toggle('is-collapsed',c); region.setAttribute('aria-expanded',c?'false':'true'); toggle.setAttribute('aria-label',c?'Expand panel':'Collapse panel'); }

  function adjustCanvasOffset(){
    if(!canvas||!wrap) return;
    const topGap=parseInt(getComputedStyle(root).getPropertyValue('--mod-hud-top'))||0;
    const collapsed=root.classList.contains('is-collapsed');
    const collapsedH=parseInt(getComputedStyle(root).getPropertyValue('--mod-hud-collapsed-h'))||0;
    const outerH=wrap.getBoundingClientRect().height;
    const usedH=collapsed?(collapsedH+topGap):(outerH+topGap);
    canvas.style.scrollMarginTop=(outerH+16)+'px';
    canvas.style.paddingTop=(usedH+8)+'px';
  }
  let raf=null; const scheduleLayout=()=>{ if(raf) cancelAnimationFrame(raf); raf=requestAnimationFrame(adjustCanvasOffset); };

  function onToggle(){ const c=root.classList.toggle('is-collapsed'); setState(c?'collapsed':'expanded'); applyCollapsedUI(c); scheduleLayout(); }
  function doLogout(){ if(authRoot&&authRoot.modAuth){ authRoot.modAuth.logout('manual'); } else { localStorage.removeItem(AUTH_LS_KEY); location.reload(); } }
  function isAuthedNow(){ try{ const raw=localStorage.getItem(AUTH_LS_KEY); if(raw&&raw.length>10) return true; }catch(e){} if(document.documentElement.dataset.auth==='1') return true;
    if(authRoot&&authRoot.modAuth&&typeof authRoot.modAuth.isAuthed==='function'){ try{ return !!authRoot.modAuth.isAuthed(); }catch(e){} } return false; }
  function updateLogoutVisibility(){ const a=isAuthedNow(); if(logoutBtn){ logoutBtn.style.display=a?'':'none'; } }
  function ensureAuthHooked(){
    if(authRoot&&(authRoot.modAuth||authRoot.classList.contains('mod-auth-login'))){
      try{
        authRoot.addEventListener('app:auth:ready',updateLogoutVisibility);
        authRoot.addEventListener('app:auth:login',updateLogoutVisibility);
        authRoot.addEventListener('app:auth:logout',updateLogoutVisibility);
      }catch(e){}
      updateLogoutVisibility(); if(authMO){ authMO.disconnect(); authMO=null; } return;
    }
    if(!authMO){ authMO=new MutationObserver(()=>{ const n=document.querySelector('.mod-auth-login'); if(n){ authRoot=n; ensureAuthHooked(); } });
      authMO.observe(document.documentElement,{childList:true,subtree:true}); }
  }

  toggle&&toggle.addEventListener('click',onToggle,{passive:true});
  logoutBtn&&logoutBtn.addEventListener('click',doLogout,{passive:true});
  window.addEventListener('resize',scheduleLayout,{passive:true});
  window.addEventListener('orientationchange',scheduleLayout,{passive:true});
  window.addEventListener('storage',(e)=>{ if(e.key===AUTH_LS_KEY) updateLogoutVisibility(); },{passive:true});
  document.addEventListener('visibilitychange',()=>{ if(!document.hidden) updateLogoutVisibility(); },{passive:true});
  const ro=new ResizeObserver(scheduleLayout); if(wrap) ro.observe(wrap); if(canvas) ro.observe(canvas);

  applyCollapsedUI(getState()==='collapsed'); ensureAuthHooked(); updateLogoutVisibility(); requestAnimationFrame(updateLogoutVisibility); setTimeout(updateLogoutVisibility,0);
  scheduleLayout();

  root.modHudPinnedDestroy=function(){
    toggle&&toggle.removeEventListener('click',onToggle);
    logoutBtn&&logoutBtn.removeEventListener('click',doLogout);
    window.removeEventListener('resize',scheduleLayout);
    window.removeEventListener('orientationchange',scheduleLayout);
    window.removeEventListener('storage',(e)=>{ if(e.key===AUTH_LS_KEY) updateLogoutVisibility(); });
    document.removeEventListener('visibilitychange',()=>{ if(!document.hidden) updateLogoutVisibility(); });
    ro.disconnect(); if(authMO){ authMO.disconnect(); authMO=null; }
    if(canvas){ canvas.style.paddingTop=''; canvas.style.scrollMarginTop=''; }
    if(authRoot){
      authRoot.removeEventListener('app:auth:ready',updateLogoutVisibility);
      authRoot.removeEventListener('app:auth:login',updateLogoutVisibility);
      authRoot.removeEventListener('app:auth:logout',updateLogoutVisibility);
    }
  };
  root.dispatchEvent(new CustomEvent('app:mod-hud-pinned:ready',{bubbles:false}));
})();

/* ‚ñë‚ñë‚ñë‚ñë KAPSU≈ÅA RESET√ìW + MINI‚ÄëKALENDARZ + NOTATKI z ikonami ‚ñë‚ñë‚ñë‚ñë */
(function(){
  const root=document.querySelector('.mod-reset-suite'); if(!root) return;

  /* ‚ñ∫ Klucze LS (izolowane) */
  const LS_STATE_KEY='app:cb:state:v1', LS_24H_KEY='app:cb:last-24h', LS_WEEKLY_KEY='app:cb:last-weekly', LEGACY_24H_KEY='last-24h', LEGACY_WK_KEY='last-weekly';
  const NOTE_SEL='.mod-note-card .mod-note-text';

  /* ‚ñ∫ Checkboxes reset */
  const readCbState=()=>{ try{ const raw=localStorage.getItem(LS_STATE_KEY); return raw?JSON.parse(raw):{}; }catch(e){ return {}; } };
  const writeCbState=(map)=>{ try{ localStorage.setItem(LS_STATE_KEY,JSON.stringify(map||{})); }catch(e){} };
  const findAllCbByType=(t)=>Array.from(document.querySelectorAll('input.cb.'+t));
  function resetCbList(list){ const map=readCbState(); list.forEach(cb=>{ cb.checked=false; const id=cb.getAttribute('data-id'); if(id) delete map[id]; cb.dispatchEvent(new Event('change',{bubbles:false})); }); writeCbState(map); }

  /* ‚ñ∫ Timery UI */
  const fmtDate=(d)=>d.toLocaleString('en-GB',{year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit'});
  function ago(from){ const ms=Date.now()-from.getTime(); const m=Math.floor(ms/60000), h=Math.floor(m/60), d=Math.floor(h/24); if(d>0) return `${d}d ${h%24}h`; if(h>0) return `${h}h ${m%60}m`; return `${m}m`; }
  const box24h=root.querySelector('.rs-info-24h'), boxWk=root.querySelector('.rs-info-weekly');
  function render24h(){ if(!box24h) return; const iso=localStorage.getItem(LS_24H_KEY)||localStorage.getItem(LEGACY_24H_KEY);
    if(!iso){ box24h.textContent='No saved time.'; box24h.classList.remove('overdue'); return; }
    const st=new Date(iso), nx=new Date(st.getTime()+24*60*60*1000);
    box24h.innerHTML=`<div>Last time: <strong>${fmtDate(st)}</strong><br>Next: <strong>${fmtDate(nx)}</strong> ‚Ä¢ Passed: <strong>${ago(st)}</strong></div>`;
    box24h.classList.toggle('overdue', Date.now()>=nx.getTime()); }
  function renderWeekly(){ if(!boxWk) return; const iso=localStorage.getItem(LS_WEEKLY_KEY)||localStorage.getItem(LEGACY_WK_KEY);
    if(!iso){ boxWk.textContent='No saved date.'; boxWk.classList.remove('overdue'); return; }
    const st=new Date(iso), nx=new Date(st.getTime()+7*24*60*60*1000);
    boxWk.innerHTML=`<div>Last start: <strong>${fmtDate(st)}</strong><br>Next: <strong>${fmtDate(nx)}</strong> ‚Ä¢ Passed: <strong>${ago(st)}</strong></div>`;
    boxWk.classList.toggle('overdue', Date.now()>=nx.getTime()); }
  function renderAll(){ render24h(); renderWeekly(); }

  /* ‚ñ∫ Mini calendar */
  ;(function mountMiniCal(container){
    const months=["January","February","March","April","May","June","July","August","September","October","November","December"];
    const dows=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]; const today=new Date(); let y=today.getFullYear(), m=today.getMonth();
    function render(){
      container.innerHTML=`<div class="mc-head"><div class="mc-nav"><button type="button" class="mc-btn" data-calnav="-1">‚Äπ</button></div><div class="mc-title">${months[m]} ${y}</div><div class="mc-nav"><button type="button" class="mc-btn" data-calnav="1">‚Ä∫</button></div></div><div class="mc-grid"></div>`;
      const grid=container.querySelector('.mc-grid'); dows.forEach(t=>{ const d=document.createElement('div'); d.className='mc-cell mc-dow'; d.textContent=t; grid.appendChild(d); });
      const first=new Date(y,m,1), days=new Date(y,m+1,0).getDate(), start=(first.getDay()+6)%7;
      for(let i=0;i<start;i++){ const e=document.createElement('div'); e.className='mc-cell mc-empty'; grid.appendChild(e); }
      for(let d=1; d<=days; d++){ const cell=document.createElement('div'); const isToday=(y===today.getFullYear()&&m===today.getMonth()&&d===today.getDate()); cell.className='mc-cell'+(isToday?' mc-today':''); cell.textContent=d; grid.appendChild(cell); }
      container.querySelectorAll('[data-calnav]').forEach(b=>b.addEventListener('click',()=>{ const step=parseInt(b.getAttribute('data-calnav'),10); m+=step; if(m<0){m=11;y--;} if(m>11){m=0;y++;} render(); },{passive:true}));
    }
    render();
  })(root.querySelector('.mini-cal[data-cal="mounted"]'));

  /* ‚ñ∫ Notatki: zapis/odczyt + mini-ikonki + popup */
  const notes = Array.from(root.querySelectorAll(NOTE_SEL));
  const debounces = new Map();
  const saveNote=(key,val)=>{ try{ localStorage.setItem(key,val||''); }catch(e){} };
  const loadNote=(key)=>{ try{ return localStorage.getItem(key)||''; }catch(e){ return ''; } };
  notes.forEach(t=>{ const key=t.getAttribute('data-note-key'); t.value=loadNote(key);
    t.addEventListener('input',()=>{ const prev=debounces.get(t); if(prev) clearTimeout(prev); const h=setTimeout(()=>saveNote(key,t.value),250); debounces.set(t,h); },{passive:true}); });

  /* ‚ñ∫ Utility: copy text */
  async function copyText(text){
    try{ if(navigator.clipboard && navigator.clipboard.writeText){ await navigator.clipboard.writeText(text||''); return true; } }catch(e){}
    try{ const ta=document.createElement('textarea'); ta.value=text||''; ta.style.position='fixed'; ta.style.opacity='0'; document.body.appendChild(ta); ta.focus(); ta.select(); const ok=document.execCommand('copy'); document.body.removeChild(ta); return ok; }catch(e){ return false; }
  }

  /* ‚ñ∫ Utility: escape + auto-link (safe) */
  function escapeHTML(s){ return (s||'').replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[m])); }
  function linkify(s){
    const esc=escapeHTML(s);
    const urlRe=/(https?:\/\/[^\s<]+)|(www\.[^\s<]+)/gi;
    return esc.replace(urlRe,(m)=>{ const href=m.startsWith('http')?m:`https://${m}`; return `<a href="${href}" target="_blank" rel="noopener noreferrer">${m}</a>`; });
  }

  /* ‚ñ∫ POPUP refs */
  const popup = document.querySelector('.mod-note-popup');
  const popBackdrop = popup.querySelector('.mnp-backdrop');
  const popWin = popup.querySelector('.mnp-window');
  const popEditor = popup.querySelector('.mnp-editor');
  const popPreview = popup.querySelector('.mnp-preview');
  const popMode = popup.querySelector('.mnp-mode');
  const popBtnSave = popup.querySelector('.mnp-save');
  const popBtnCopy = popup.querySelector('.mnp-copy');
  const popBtnClear = popup.querySelector('.mnp-clear');
  const popBtnClose = popup.querySelector('.mnp-close');

  let activeTextarea=null; let lastFocus=null;

  function openPopupFor(textarea){
    activeTextarea=textarea; lastFocus=document.activeElement;
    const val=textarea.value||'';
    popEditor.value=val; popPreview.innerHTML=linkify(val); popMode.checked=false; popPreview.hidden=true; popEditor.hidden=false;
    popup.setAttribute('aria-hidden','false'); popup.dataset.popup='shown';
    setTimeout(()=>popEditor.focus(),0);
  }
  function closePopup(){
    popup.setAttribute('aria-hidden','true'); popup.dataset.popup='hidden';
    if(lastFocus && typeof lastFocus.focus==='function') lastFocus.focus();
    activeTextarea=null;
  }

  function onPopupToggleMode(){
    const isPreview=popMode.checked;
    if(isPreview){ popPreview.innerHTML=linkify(popEditor.value||''); popPreview.hidden=false; popEditor.hidden=true; }
    else { popEditor.hidden=false; popPreview.hidden=true; popEditor.focus(); }
  }
  function onPopupSave(){
    if(!activeTextarea) return;
    activeTextarea.value=popEditor.value||'';
    const key=activeTextarea.getAttribute('data-note-key'); saveNote(key,activeTextarea.value);
  }
  async function onPopupCopy(){
    const text = popMode.checked ? (activeTextarea?activeTextarea.value:popEditor.value) : popEditor.value;
    await copyText(text||''); /* brak alertu ‚Äî dzia≈Çamy cicho */
  }
  function onPopupClear(){
    if(!activeTextarea) return;
    if(!confirm('Clear this note?')) return;
    activeTextarea.value=''; const key=activeTextarea.getAttribute('data-note-key'); saveNote(key,''); popEditor.value='';
    if(!popMode.checked){ popEditor.focus(); } else { popPreview.innerHTML=''; }
  }

  /* ‚ñ∫ Delegacja klik√≥w (resety + notatki) */
  function onClick(e){
    /* Reset buttons */
    const btn=e.target.closest('button[data-action]'); 
    if(btn){ const act=btn.dataset.action;
      if(act==='reset-type'){ const type=btn.dataset.type; const list=findAllCbByType(type), total=list.length;
        if(total===0){ alert(`Nothing to reset for ${type.toUpperCase()}.`); return; }
        if(!confirm(`Reset ${type.toUpperCase()} checkboxes? (count: ${total})`)) return; resetCbList(list); return; }
      if(act==='save-24h'){ localStorage.setItem(LS_24H_KEY,new Date().toISOString()); render24h(); return; }
      if(act==='save-weekly'){ localStorage.setItem(LS_WEEKLY_KEY,new Date().toISOString()); renderWeekly(); return; }
      if(act==='reset-all'){
        const allCbs=Array.from(document.querySelectorAll('input.cb'));
        const timers=(localStorage.getItem(LS_24H_KEY)||localStorage.getItem(LEGACY_24H_KEY)?1:0)+(localStorage.getItem(LS_WEEKLY_KEY)||localStorage.getItem(LEGACY_WK_KEY)?1:0);
        if(allCbs.length===0 && timers===0){ alert('Nothing to reset.'); return; }
        if(!confirm(`Reset ALL (Daily, One-time, 24h, Weekly) and clear saved times?\n(checkboxes: ${allCbs.length}, saved timers: ${timers})`)) return;
        resetCbList(allCbs);
        localStorage.removeItem(LS_24H_KEY); localStorage.removeItem(LS_WEEKLY_KEY); localStorage.removeItem(LEGACY_24H_KEY); localStorage.removeItem(LEGACY_WK_KEY);
        renderAll(); return;
      }
    }

    /* Note mini icons */
    const actBtn=e.target.closest('.note-btn'); if(actBtn){
      const card=actBtn.closest('.mod-note-card'); const ta=card.querySelector('.mod-note-text'); if(!ta) return;
      if(actBtn.classList.contains('btn-preview')){ openPopupFor(ta); return; }
      if(actBtn.classList.contains('btn-copy')){ copyText(ta.value||''); return; }
      if(actBtn.classList.contains('btn-clear')){ if(confirm('Clear this note?')){ ta.value=''; const key=ta.getAttribute('data-note-key'); saveNote(key,''); } return; }
    }
  }
  root.addEventListener('click',onClick,{passive:true});

  /* ‚ñ∫ Popup listeners */
  popBackdrop.addEventListener('click',closePopup,{passive:true});
  popBtnClose.addEventListener('click',closePopup,{passive:true});
  popBtnSave.addEventListener('click',onPopupSave,{passive:true});
  popBtnCopy.addEventListener('click',onPopupCopy,{passive:true});
  popBtnClear.addEventListener('click',onPopupClear,{passive:true});
  popMode.addEventListener('change',onPopupToggleMode,{passive:true});
  document.addEventListener('keydown',(e)=>{ if(popup.dataset.popup==='shown' && e.key==='Escape'){ closePopup(); } },{passive:true});

  /* ‚ñ∫ Init */
  let interval=setInterval(renderAll,60*1000); renderAll();

  /* ‚ñ∫ SprzƒÖtanie modu≈Çu */
  root.modResetSuiteDestroy=function(){
    root.removeEventListener('click',onClick);
    clearInterval(interval);
    debounces.forEach(h=>clearTimeout(h)); debounces.clear();
    popBackdrop.removeEventListener('click',closePopup);
    popBtnClose.removeEventListener('click',closePopup);
    popBtnSave.removeEventListener('click',onPopupSave);
    popBtnCopy.removeEventListener('click',onPopupCopy);
    popBtnClear.removeEventListener('click',onPopupClear);
    popMode.removeEventListener('change',onPopupToggleMode);
    document.removeEventListener('keydown',(e)=>{ if(popup.dataset.popup==='shown' && e.key==='Escape'){ closePopup(); } });
  };
})();
</script>

<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà PATCH JS: Prawdziwe przypiƒôcie HUD do viewportu (portal do <body>) ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<script>
/* ‚ñë‚ñë‚ñë‚ñë HUD PORTAL ‚Üí <body> (zapobiega odklejaniu przy scrollu) ‚ñë‚ñë‚ñë‚ñë */
(function(){
  const SEL = '.mod-hud-pinned';
  function mountToBody(){
    const hud = document.querySelector(SEL);
    if(!hud || hud.parentElement === document.body) return;
    document.body.appendChild(hud); /* przeniesienie bez zmiany styl√≥w i logiki */
  }
  /* uruchom od razu + po za≈Çadowaniu DOM (gdyby HUD wstrzyknƒÖ≈Ç siƒô p√≥≈∫niej) */
  try{ mountToBody(); }catch(e){}
  document.addEventListener('DOMContentLoaded', mountToBody, { once:true, passive:true });
})();
</script>
<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->

<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà PATCH JS: obliczanie skali HUD wzglƒôdem 1340 px ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<script>
/* ‚ñë‚ñë‚ñë‚ñë HUD scale controller ‚Äî skaluje HUD tak jak resztƒô strony ‚ñë‚ñë‚ñë‚ñë */
(function(){
  const HUD_SEL = '.mod-hud-pinned';
  const BASE = 1340; // bazowa szeroko≈õƒá projektu

  function updateScale(){
    const hud = document.querySelector(HUD_SEL); if(!hud) return;
    const vw = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
    // Skala: do 1 na szerokich oknach, poni≈ºej 1340 px ‚Äî proporcjonalnie w d√≥≈Ç
    const s = Math.min(1, vw / BASE);
    hud.style.setProperty('--app-scale', String(s));
  }

  // start + reagowanie na zmiany
  updateScale();
  window.addEventListener('resize', updateScale, {passive:true});
  window.addEventListener('orientationchange', updateScale, {passive:true});
  // gdyby fonty/OS zmieni≈Çy DPI
  window.matchMedia?.('(resolution: 2dppx)').addEventListener?.('change', updateScale, {passive:true});
})();
</script>
<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->













<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñëKONIEC HUD - PRZYPIETY PASEK Z PRZYCISKAMI‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->

          <!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë /SLOT ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->









<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñëLINIA KOTWICA‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà MODU≈Å: mod-content-anchor ‚Äî sta≈Ça linia/kotwica pod HUD ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<!-- Wklej pod HUD w <main class="mod-fundament-canvas">, jako pierwszy element tre≈õci. -->
<div class="mod-content-anchor" data-module="mod-content-anchor" aria-hidden="true">
  <div class="mod-content-anchor-line" title="Content starts below"></div>
</div>

<style>
  .mod-content-anchor{ margin: 6px 0 10px; }
  .mod-content-anchor-line{
    height:0; border-top:1px solid rgba(255,255,255,.55);
    box-shadow: 0 1px 0 rgba(0,0,0,.06);
    opacity:.9;
  }
</style>
<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñëLINIA KOTWICA‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->







<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà MODU≈Å: mod-cb-core-demo ‚Äî testowe checkboxy + trwa≈Çy zapis ‚ñà‚ñà‚ñà‚ñà‚ñà
  UMIEJSCOWIENIE: w tre≈õci (miƒôdzy HUD a stopkƒÖ).
  ZA≈ÅO≈ªENIA:
  - 3√ó4 checkboxy (daily, weekly, h24, once) ‚Äì tylko do test√≥w.
  - WyglƒÖd checkbox√≥w IDENTYCZNY jak w Twoim CSS (zakodowany tutaj, ale OSKSOPOWANY).
  - Trwa≈Çy zapis: localStorage 'app:cb:state:v1' (mapa {data-id:bool}).
  - Izolacja: wszystko w .mod-cb-core; brak globalnych id; cleanup root.modCbCoreDestroy().
-->
<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà HTML ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<section class="mod-cb-core" data-module="mod-cb-core" aria-label="Checkboxes demo">
  <header class="mod-cb-head">Checkboxes ‚Äî demo set</header>

  <div class="mod-cb-grid">
    <!-- DAILY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">DAILY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test1-daily"> test1 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test2-daily"> test2 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test3-daily"> test3 daily</label>
    </div>

    <!-- WEEKLY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">WEEKLY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test1-weekly"> test1 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test2-weekly"> test2 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test3-weekly"> test3 weekly</label>
    </div>

    <!-- 24H -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">24H</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test1-h24"> test1 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test2-h24"> test2 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test3-h24"> test3 24h</label>
    </div>

    <!-- ONE TIME -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">ONE TIME</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test1-once"> test1 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test2-once"> test2 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test3-once"> test3 one time</label>
    </div>
  </div>

  <div class="mod-cb-grid">
    <!-- DAILY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">DAILY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test1-daily"> test1 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test2-daily"> test2 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test3-daily"> test3 daily</label>
    </div>

    <!-- WEEKLY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">WEEKLY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test1-weekly"> test1 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test2-weekly"> test2 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test3-weekly"> test3 weekly</label>
    </div>

    <!-- 24H -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">24H</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test1-h24"> test1 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test2-h24"> test2 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test3-h24"> test3 24h</label>
    </div>

    <!-- ONE TIME -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">ONE TIME</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test1-once"> test1 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test2-once"> test2 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test3-once"> test3 one time</label>
    </div>
  </div>

  <div class="mod-cb-grid">
    <!-- DAILY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">DAILY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test1-daily"> test1 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test2-daily"> test2 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test3-daily"> test3 daily</label>
    </div>

    <!-- WEEKLY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">WEEKLY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test1-weekly"> test1 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test2-weekly"> test2 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test3-weekly"> test3 weekly</label>
    </div>

    <!-- 24H -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">24H</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test1-h24"> test1 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test2-h24"> test2 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test3-h24"> test3 24h</label>
    </div>

    <!-- ONE TIME -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">ONE TIME</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test1-once"> test1 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test2-once"> test2 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test3-once"> test3 one time</label>
    </div>
  </div>

  <div class="mod-cb-grid">
    <!-- DAILY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">DAILY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test1-daily"> test1 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test2-daily"> test2 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test3-daily"> test3 daily</label>
    </div>

    <!-- WEEKLY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">WEEKLY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test1-weekly"> test1 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test2-weekly"> test2 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test3-weekly"> test3 weekly</label>
    </div>

    <!-- 24H -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">24H</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test1-h24"> test1 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test2-h24"> test2 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test3-h24"> test3 24h</label>
    </div>

    <!-- ONE TIME -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">ONE TIME</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test1-once"> test1 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test2-once"> test2 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test3-once"> test3 one time</label>
    </div>
  </div>

  <div class="mod-cb-grid">
    <!-- DAILY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">DAILY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test1-daily"> test1 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test2-daily"> test2 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test3-daily"> test3 daily</label>
    </div>

    <!-- WEEKLY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">WEEKLY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test1-weekly"> test1 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test2-weekly"> test2 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test3-weekly"> test3 weekly</label>
    </div>

    <!-- 24H -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">24H</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test1-h24"> test1 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test2-h24"> test2 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test3-h24"> test3 24h</label>
    </div>

    <!-- ONE TIME -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">ONE TIME</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test1-once"> test1 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test2-once"> test2 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test3-once"> test3 one time</label>
    </div>
  </div>

  <div class="mod-cb-grid">
    <!-- DAILY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">DAILY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test1-daily"> test1 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test2-daily"> test2 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test3-daily"> test3 daily</label>
    </div>

    <!-- WEEKLY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">WEEKLY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test1-weekly"> test1 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test2-weekly"> test2 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test3-weekly"> test3 weekly</label>
    </div>

    <!-- 24H -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">24H</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test1-h24"> test1 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test2-h24"> test2 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test3-h24"> test3 24h</label>
    </div>

    <!-- ONE TIME -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">ONE TIME</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test1-once"> test1 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test2-once"> test2 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test3-once"> test3 one time</label>
    </div>
  </div>


<div class="mod-cb-grid">
    <!-- DAILY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">DAILY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test1-daily"> test1 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test2-daily"> test2 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test3-daily"> test3 daily</label>
    </div>

    <!-- WEEKLY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">WEEKLY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test1-weekly"> test1 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test2-weekly"> test2 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test3-weekly"> test3 weekly</label>
    </div>

    <!-- 24H -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">24H</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test1-h24"> test1 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test2-h24"> test2 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test3-h24"> test3 24h</label>
    </div>

    <!-- ONE TIME -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">ONE TIME</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test1-once"> test1 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test2-once"> test2 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test3-once"> test3 one time</label>
    </div>
  </div>

  <div class="mod-cb-grid">
    <!-- DAILY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">DAILY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test1-daily"> test1 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test2-daily"> test2 daily</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb daily" data-id="test3-daily"> test3 daily</label>
    </div>

    <!-- WEEKLY -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">WEEKLY</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test1-weekly"> test1 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test2-weekly"> test2 weekly</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb weekly" data-id="test3-weekly"> test3 weekly</label>
    </div>

    <!-- 24H -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">24H</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test1-h24"> test1 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test2-h24"> test2 24h</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb h24" data-id="test3-h24"> test3 24h</label>
    </div>

    <!-- ONE TIME -->
    <div class="mod-cb-card">
      <div class="mod-cb-title">ONE TIME</div>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test1-once"> test1 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test2-once"> test2 one time</label>
      <label class="mod-cb-row"><input type="checkbox" class="cb once" data-id="test3-once"> test3 one time</label>
    </div>
  </div>
</section>

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà CSS ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<style>
  /* ‚ñë‚ñë STYL DEMO KART (lekko ‚Äûglass‚Äù, sp√≥jny z HUD) ‚ñë‚ñë */
  .mod-cb-core{
    --glass-bg: linear-gradient(180deg, rgba(255,255,255,0.28), rgba(255,255,255,0.12));
    --glass-brd: 1px solid rgba(255,255,255,0.35);
    --glass-sh:  0 6px 18px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.30);
    --radius: 14px; --pad: 12px; --gap: 12px;
    display:block; margin: 14px 0 20px;
  }
  .mod-cb-head{ font-weight:800; letter-spacing:.2px; margin:0 0 8px 0; opacity:.9; }
  .mod-cb-grid{ display:grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: var(--gap); }
  .mod-cb-card{
    border-radius: var(--radius); border: var(--glass-brd); background: var(--glass-bg);
    box-shadow: var(--glass-sh); padding: var(--pad);
  }
  .mod-cb-title{ font-weight:700; text-align:center; margin-bottom:8px; }
  .mod-cb-row{ display:block; margin: 6px 0; }

  /* ‚ñë‚ñë TWOJE CHECKBOXY ‚Äì OSKSOPOWANE DO .mod-cb-core ‚ñë‚ñë */
  .mod-cb-core input[type="checkbox"].cb{
    appearance:none; -webkit-appearance:none;
    width:22px; height:22px;
    border:2px solid #d32f2f; border-radius:4px;
    display:inline-grid; place-items:center;
    position:relative; cursor:pointer;
    margin-right:6px; vertical-align:middle;
    transition:background .15s ease, border-color .15s ease, color .15s ease;
  }
  .mod-cb-core input.cb:checked{ border-color:#2e7d32; }

  .mod-cb-core input.cb::after{
    font-weight:700; line-height:1; user-select:none; color:#c62828;
  }
  .mod-cb-core input.cb:checked::after{ color:#2e7d32; }

  .mod-cb-core input.cb:checked::before{
    content:"‚úî"; position:absolute; user-select:none;
    font-size:14px; line-height:1; color:#2e7d32; transform:translateY(-1px);
  }

  .mod-cb-core input.cb.once            { background:#ffffff; }
  .mod-cb-core input.cb.once:checked    { background:#e6e6e6; }
  .mod-cb-core input.cb.once::after     { content:"X"; }
  .mod-cb-core input.cb.once:checked::after{ content:""; }

  .mod-cb-core input.cb.daily           { background:#cfe7ff; }
  .mod-cb-core input.cb.daily:checked   { background:#5da8ff; }
  .mod-cb-core input.cb.daily::after    { content:"D"; font-size:13px; }

  .mod-cb-core input.cb.weekly          { background:#fff0a6; }
  .mod-cb-core input.cb.weekly:checked  { background:#ffd54d; }
  .mod-cb-core input.cb.weekly::after   { content:"W"; font-size:13px; }

  .mod-cb-core input.cb.h24             { background:#e8d5ff; }
  .mod-cb-core input.cb.h24:checked     { background:#c79aff; }
  .mod-cb-core input.cb.h24::after      { content:"24"; font-size:12px; }
</style>

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà JS ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<script>
(function(){
  const root = document.querySelector('.mod-cb-core'); if(!root) return;

  const LS_STATE_KEY = 'app:cb:state:v1';

  function readMap(){ try{ const raw = localStorage.getItem(LS_STATE_KEY); return raw?JSON.parse(raw):{}; }catch(e){ return {}; } }
  function writeMap(map){ try{ localStorage.setItem(LS_STATE_KEY, JSON.stringify(map||{})); }catch(e){} }

  function onChange(e){
    const cb = e.target;
    if(!(cb instanceof HTMLInputElement) || !cb.classList.contains('cb')) return;
    const id = cb.getAttribute('data-id'); if(!id) return;
    const map = readMap(); map[id] = cb.checked; writeMap(map);
  }

  function hydrate(){
    const map = readMap();
    root.querySelectorAll('input.cb[data-id]').forEach(cb=>{
      const id = cb.getAttribute('data-id');
      if(id in map) cb.checked = !!map[id];
    });
  }

  root.addEventListener('change', onChange);
  hydrate();

  root.modCbCoreDestroy = function(){
    root.removeEventListener('change', onChange);
  };
})();
</script>

















































<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñëSTOPKA‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà MODU≈Å: mod-footer-copyright ‚Äî prosta stopka ¬© (EN) ‚ñà‚ñà‚ñà‚ñà‚ñà
  OPIS:
  - WewnƒÖtrz canvasa (1340px), lekka karta w stylu ‚Äûdemo‚Äù.
  - Tekst po angielsku: ‚Äú¬© {year} {owner} ‚Äî All rights reserved.‚Äù
  - Rok ustawia siƒô automatycznie; w≈Ça≈õciciel i licencja z atrybut√≥w data-*.
  - Izolacja: prefiks .mod-footer-*; brak globalnych id; brak !important.
  - Cleanup: root.modFooterDestroy() (rezerwowe; nie ma listener√≥w do zdejmowania).
  JAK U≈ªYWAƒÜ:
  - Wklej ten blok tu≈º PRZED </main> (wewnƒÖtrz .mod-fundament-canvas).
  - Podmie≈Ñ data-owner="Katgo&DW" na swojƒÖ nazwƒô (opcjonalnie data-license).
-->
<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà HTML ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<div class="mod-footer-copyright" data-module="mod-footer-copyright"
     data-owner="Katgo&DW" data-license="All rights reserved.">
  <footer class="mod-footer-wrap" role="contentinfo" aria-label="Site footer">
    <div class="mod-footer-line">
      <span class="mod-footer-copy">
        &copy; <span class="mod-footer-year">2025</span>
        <span class="mod-footer-owner">YKatgo&DW</span>
        ‚Äî <span class="mod-footer-license">All rights reserved.</span>
      </span>
    </div>
  </footer>
</div>

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà CSS ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<style>
  .mod-footer-copyright{
    --mod-gold-light: #f9e4b7;
    --mod-gold: #d4af37;
    --mod-gold-deep: #b8860b;
    --mod-brown-warm: #8b5e2b;

    --mod-radius: 16px;
    --mod-pad-y: 10px;
    --mod-pad-x: 14px;
    --mod-shadow: 0 6px 18px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.35);
    --mod-border: 1px solid rgba(255,255,255,0.35);
    --mod-bg: linear-gradient(180deg, rgba(255,255,255,0.35), rgba(255,255,255,0.15));

    display:block; margin: 24px 0 32px;
  }

  .mod-footer-wrap{
    border-radius: var(--mod-radius);
    box-shadow: var(--mod-shadow);
    border: var(--mod-border);
    background: var(--mod-bg);
    backdrop-filter: saturate(120%) blur(2px);
    padding: var(--mod-pad-y) var(--mod-pad-x);
  }

  .mod-footer-line{ display:flex; justify-content:center; align-items:center; }
  .mod-footer-copy{
    font-size: 0.92rem; line-height: 1.4; letter-spacing: .2px; opacity: .92;
    color: #2b1e0c; /* ciemny, ciep≈Çy ton czytelny na tle */
  }

  /* Zero wyciek√≥w: nie stylujemy globalnych tag√≥w, tylko nasze klasy */
</style>

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà JS ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<script>
(function(){
  const root = document.querySelector('.mod-footer-copyright'); if(!root) return;

  const yearEl    = root.querySelector('.mod-footer-year');
  const ownerEl   = root.querySelector('.mod-footer-owner');
  const licenseEl = root.querySelector('.mod-footer-license');

  // Ustaw aktualny rok i teksty z data-*
  try{
    const y = new Date().getFullYear();
    yearEl.textContent = y;

    const owner = (root.dataset.owner || 'Your Name').trim();
    if(owner) ownerEl.textContent = owner;

    const lic = (root.dataset.license || 'All rights reserved.').trim();
    if(lic) licenseEl.textContent = lic;
  }catch(e){ /* no-op */ }

  // Cleanup API (rezerwowo ‚Äì tu nie ma listener√≥w globalnych)
  root.modFooterDestroy = function(){ /* nothing to cleanup */ };

  // Zdarzenie informacyjne (namespacowane)
  root.dispatchEvent(new CustomEvent('app:mod-footer:ready', {bubbles:false}));
})();
</script>

<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñëSTOPKA KONIEC‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->



        </main>
      </div>
    </div>
  </div>





























  <!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë SKRYPT MODU≈ÅU: skalowanie + cleanup ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
  <script>
    /* KAPSU≈ÅA JS ‚Äì brak ≈õmiecenia w window */
    (function(){
      const root = document.querySelector('.mod-fundament'); if(!root) return;
      const viewport = root.querySelector('.mod-fundament-viewport');
      const scaler  = root.querySelector('.mod-fundament-scaler');
      const canvas  = root.querySelector('.mod-fundament-canvas');
      const BASE = Number(canvas?.dataset.baseWidth || root?.style.getPropertyValue('--mod-fundament-base-width') || 1340);

      /* Debounce via rAF ‚Äì p≈Çynne i lekkie */
      let frame = null;
      const applyScale = () => {
        frame && cancelAnimationFrame(frame);
        frame = requestAnimationFrame(() => {
          const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
          const scale = Math.min(1, vw / BASE);
          scaler.style.transform = 'scale(' + scale + ')';
          /* Wysoko≈õƒá skalera = wysoko≈õƒá canvasu * skala, dziƒôki czemu przewijanie jest poprawne */
          const h = canvas.offsetHeight * scale;
          scaler.style.height = h + 'px';
        });
      };

      /* Reakcja na zmianƒô rozmiaru i orientacji */
      const onResize = () => applyScale();
      window.addEventListener('resize', onResize, { passive:true });
      window.addEventListener('orientationchange', onResize, { passive:true });

      /* Obserwuj zmiany wysoko≈õci tre≈õci (gdy do≈Ço≈ºysz modu≈Çy) */
      const ro = new ResizeObserver(applyScale);
      ro.observe(canvas);

      /* Inicjalizacja */
      applyScale();

      /* Cleanup API ‚Äì do wywo≈Çania, je≈õli kiedy≈õ usuniesz modu≈Ç z DOM */
      root.modFundamentDestroy = function(){
        window.removeEventListener('resize', onResize);
        window.removeEventListener('orientationchange', onResize);
        ro.disconnect();
        scaler.style.transform = '';
        scaler.style.height = '';
      };

      /* Nazwane, namespacowane zdarzenia (w razie przysz≈Çej rozbudowy) */
      root.dispatchEvent(new CustomEvent('app:mod-fundament:ready', {bubbles:false, detail:{baseWidth:BASE}}));
    })();
  </script>

  <!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë NOSCRIPT (FALLBACK) ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë
       Bez JS strona pozostanie w 1340 px, co mo≈ºe skutkowaƒá poziomym przewijaniem na ma≈Çych ekranach.
       To zamierzony kompromis wersji ‚Äûfixed width‚Äù. -->
  <noscript>
    <div style="max-width:1340px;margin:16px auto;padding:12px;background:rgba(255,255,255,.6);border:1px solid rgba(0,0,0,.08);border-radius:8px;">
      Twoja przeglƒÖdarka ma wy≈ÇƒÖczony JavaScript. Strona dzia≈Ça, ale bez automatycznego skalowania do wƒô≈ºszych ekran√≥w.
    </div>
  </noscript>


















<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñëMODU≈Å LOGOWANIA‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->
<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà MODU≈Å: mod-auth-login ‚Äî login overlay (EN UI) ‚ñà‚ñà‚ñà‚ñà‚ñà
  ZMIANY: tylko teksty UI ‚Üí po angielsku. Logika/zdarzenia/klucze bez zmian.
  API:
    - root.modAuth.isAuthed()
    - root.modAuth.login(plainPassword)
    - root.modAuth.logout(reason='manual')  ‚Üí czy≈õci sesjƒô i od≈õwie≈ºa stronƒô
  Zdarzenia:
    - app:auth:ready  | app:auth:login  | app:auth:logout
-->
<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà STRUKTURA HTML ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<div class="mod-auth-login" data-module="mod-auth-login" aria-live="polite" hidden>
  <!-- BACKDROP -->
  <div class="mod-auth-backdrop" aria-hidden="true"></div>

  <!-- CARD -->
  <section class="mod-auth-card" role="dialog" aria-modal="true" aria-labelledby="mod-auth-title">
    <header class="mod-auth-head">
      <h2 id="mod-auth-title" class="mod-auth-title">Sign in</h2>
    </header>

    <form class="mod-auth-form" autocomplete="off">
      <label class="mod-auth-label">
        <span>Password</span>
        <div class="mod-auth-inputwrap">
          <input type="password" class="mod-auth-input" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required inputmode="text" />
          <button type="button" class="mod-auth-eye" aria-label="Show/Hide password" title="Show/Hide">
            <!-- Eye icon -->
            <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M12 5c5 0 9 4.5 10 7-1 2.5-5 7-10 7S3 14.5 2 12c1-2.5 5-7 10-7Zm0 3.5A3.5 3.5 0 1 0 12 16a3.5 3.5 0 0 0 0-7Z"/>
            </svg>
          </button>
        </div>
      </label>

      <div class="mod-auth-actions">
        <button type="submit" class="mod-auth-submit">Sign in</button>
      </div>

      <p class="mod-auth-error" role="alert" aria-live="assertive"></p>
    </form>

    <footer class="mod-auth-foot">
      <small>Private site ‚Ä¢ Password required.</small>
    </footer>
  </section>
</div>

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà STYLE ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<style>
  /* ROOT + LOCAL VARS */
  .mod-auth-login{
    --mod-auth-z: 9999; /* above HUD */
    --mod-auth-top-gap: 0px; /* if you want space below HUD, override this */
    --mod-gold-light: #f9e4b7; --mod-gold: #d4af37; --mod-gold-deep: #b8860b; --mod-brown-warm: #8b5e2b;
  }

  /* OVERLAY */
  .mod-auth-backdrop{
    position: fixed; inset: 0; z-index: var(--mod-auth-z);
    background:
      radial-gradient(800px 400px at 20% 0%, rgba(255,255,255,0.25), rgba(255,255,255,0) 60%),
      rgba(0,0,0,0.35);
    backdrop-filter: blur(3px) saturate(115%);
  }

  /* CARD */
  .mod-auth-card{
    position: fixed; z-index: calc(var(--mod-auth-z) + 1);
    left: 50%; top: max(var(--mod-auth-top-gap), 12vh); transform: translateX(-50%);
    width: min(420px, calc(100vw - 32px));
    border-radius: 18px;
    background: linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0.25));
    box-shadow: 0 12px 32px rgba(0,0,0,0.18), inset 0 1px 0 rgba(255,255,255,0.45);
    border: 1px solid rgba(255,255,255,0.55);
    padding: 18px 16px;
    color: #2b1e0c;
  }

  .mod-auth-title{margin: 0 0 10px 0; font-weight: 700; letter-spacing: 0.2px;}

  .mod-auth-label{display:block; margin: 10px 0 12px;}
  .mod-auth-inputwrap{position: relative; display:flex; align-items:center;}
  .mod-auth-input{
    flex:1; padding: 10px 38px 10px 12px; border-radius: 12px;
    border: 1px solid rgba(0,0,0,0.12);
    outline: none;
    background: rgba(255,255,255,0.8);
  }
  .mod-auth-input:focus{border-color: #d4af37; box-shadow: 0 0 0 3px rgba(212,175,55,.2);}
  .mod-auth-eye{
    position:absolute; right:8px; display:inline-flex; align-items:center; justify-content:center;
    width:28px; height:28px; border-radius:8px; border:1px solid rgba(0,0,0,.1);
    background: rgba(255,255,255,.6); cursor:pointer;
  }

  .mod-auth-actions{display:flex; justify-content:flex-end; gap:8px; margin-top: 8px;}
  .mod-auth-submit{
    padding:10px 14px; border-radius:12px; cursor:pointer;
    border:1px solid rgba(255,255,255,0.6);
    background: linear-gradient(180deg, var(--mod-gold) 0%, var(--mod-gold-deep) 100%);
    color:#fff; font-weight:600;
    box-shadow: 0 3px 10px rgba(0,0,0,.18), inset 0 1px 0 rgba(255,255,255,.35);
  }
  .mod-auth-submit:hover{filter: brightness(1.03);}
  .mod-auth-submit:active{transform: translateY(1px);}

  .mod-auth-error{min-height: 18px; color:#8b1e1e; margin: 10px 0 0;}

  .mod-auth-foot{margin-top:12px; opacity:.8; text-align:center;}

  /* Visibility states */
  .mod-auth-login[hidden]{display:none;}
  .mod-auth-login.is-hidden{display:none;}
</style>

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà SKRYPT ‚ñà‚ñà‚ñà‚ñà‚ñà -->
<script>
/* Encapsulated module (no window pollution) */
(function(){
  const root = document.querySelector('.mod-auth-login'); if(!root) return;

  /* ===== CONFIG (unchanged) ===== */
  const PASSWORD_HASH_HEX = "036fc05c721aba986b4ecd7f194061ae87640cd5c6967f73820c0f0b5cb998ce"; // SHA-256 of password
  const LS_KEY = "app:auth:session";
  const TOKEN_PREFIX = "katgo:";

  /* ===== SHA-256 helper ===== */
  async function sha256Hex(input){
    const enc = new TextEncoder().encode(input);
    const buf = await crypto.subtle.digest('SHA-256', enc);
    return [...new Uint8Array(buf)].map(b=>b.toString(16).padStart(2,'0')).join('');
  }

  /* ===== Token generation (password-bound) ===== */
  async function makeSessionToken(password){
    const saltBytes = crypto.getRandomValues(new Uint8Array(16));
    const saltHex = [...saltBytes].map(b=>b.toString(16).padStart(2,'0')).join('');
    const base = password + "::" + navigator.userAgent + "::" + saltHex + "::" + Date.now();
    const token = await sha256Hex(base);
    const sig = await sha256Hex(token + "::" + PASSWORD_HASH_HEX);
    return TOKEN_PREFIX + token + "." + sig;
  }

  /* ===== DOM refs ===== */
  const backdrop = root.querySelector('.mod-auth-backdrop');
  const card     = root.querySelector('.mod-auth-card');
  const form     = root.querySelector('.mod-auth-form');
  const input    = root.querySelector('.mod-auth-input');
  const eye      = root.querySelector('.mod-auth-eye');
  const errEl    = root.querySelector('.mod-auth-error');

  /* ===== Show/Hide overlay ===== */
  function showOverlay(){ root.hidden = false; root.classList.remove('is-hidden'); input?.focus({preventScroll:true}); }
  function hideOverlay(){ root.classList.add('is-hidden'); }

  /* ===== Session helpers ===== */
  function readSession(){
    try{
      const raw = localStorage.getItem(LS_KEY);
      if(!raw) return null;
      if(!raw.startsWith(TOKEN_PREFIX) || raw.split('.').length!==2) return null;
      return raw;
    }catch(e){ return null; }
  }
  function writeSession(token){ localStorage.setItem(LS_KEY, token); }
  function clearSession(){ localStorage.removeItem(LS_KEY); }

  /* ===== Public API ===== */
  root.modAuth = {
    isAuthed(){ return !!readSession(); },
    async login(plain){
      const hash = await sha256Hex(plain);
      if(hash !== PASSWORD_HASH_HEX) throw new Error("Invalid password");
      const token = await makeSessionToken(plain);
      writeSession(token);
      hideOverlay();
      document.documentElement.dataset.auth = "1";
      root.dispatchEvent(new CustomEvent('app:auth:login', {bubbles:false, detail:{token}}));
      return true;
    },
    logout(reason='manual'){
      clearSession();
      document.documentElement.dataset.auth = "0";
      root.dispatchEvent(new CustomEvent('app:auth:logout', {bubbles:false, detail:{reason}}));
      location.reload();
    }
  };

  /* ===== Form handling ===== */
  form.addEventListener('submit', async (e)=>{
    e.preventDefault();
    errEl.textContent = "";
    const val = (input.value || "").trim();
    if(!val){ errEl.textContent = "Enter the password."; return; }
    try{
      await root.modAuth.login(val);
    }catch(err){
      errEl.textContent = "Incorrect password.";
      input.select();
    }
  });

  /* ===== Eye toggle ===== */
  eye.addEventListener('click', ()=>{
    const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
    input.setAttribute('type', type);
  });

  /* ===== Init ===== */
  (function init(){
    const has = readSession();
    if(has){
      hideOverlay();
      document.documentElement.dataset.auth = "1";
    }else{
      showOverlay();
      document.documentElement.dataset.auth = "0";
    }
    root.dispatchEvent(new CustomEvent('app:auth:ready', {bubbles:false}));
  })();

  /* ===== Cleanup ===== */
  root.modAuthDestroy = function(){
    delete document.documentElement.dataset.auth;
  };
})();
</script>


<!-- ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñëMODU≈Å LOGOWANIA KONIEC‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë -->































</body>
</html>
